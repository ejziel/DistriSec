[{"/home/ejziel/Documentos/Omni 11/frontend/src/App.js":"1","/home/ejziel/Documentos/Omni 11/frontend/src/index.js":"2","/home/ejziel/Documentos/Omni 11/frontend/src/routes.js":"3","/home/ejziel/Documentos/Omni 11/frontend/src/pages/Logon/index.js":"4","/home/ejziel/Documentos/Omni 11/frontend/src/pages/Register/index.js":"5","/home/ejziel/Documentos/Omni 11/frontend/src/pages/NewIncident/index.js":"6","/home/ejziel/Documentos/Omni 11/frontend/src/pages/Profile/index.js":"7","/home/ejziel/Documentos/Omni 11/frontend/src/services/api.js":"8","/home/ejziel/Disciplinas/Distribuidos/DistriSec2/frontend/src/index.js":"9","/home/ejziel/Disciplinas/Distribuidos/DistriSec2/frontend/src/routes.js":"10","/home/ejziel/Disciplinas/Distribuidos/DistriSec2/frontend/src/services/api.js":"11","/home/ejziel/Disciplinas/Distribuidos/DistriSec2/frontend/src/pages/NewIncident/index.js":"12","/home/ejziel/Disciplinas/Distribuidos/DistriSec2/frontend/src/pages/Register/index.js":"13","/home/ejziel/Disciplinas/Distribuidos/DistriSec2/frontend/src/pages/Logon/index.js":"14","/home/ejziel/Disciplinas/Distribuidos/DistriSec2/frontend/src/pages/Profile/index.js":"15","/home/ejziel/Disciplinas/Distribuidos/DistriSec2/frontend/src/App.js":"16","/home/ejziel/DistriSec/frontend/src/index.js":"17","/home/ejziel/DistriSec/frontend/src/App.js":"18","/home/ejziel/DistriSec/frontend/src/routes.js":"19","/home/ejziel/DistriSec/frontend/src/pages/NewIncident/index.js":"20","/home/ejziel/DistriSec/frontend/src/pages/Profile/index.js":"21","/home/ejziel/DistriSec/frontend/src/pages/Logon/index.js":"22","/home/ejziel/DistriSec/frontend/src/pages/Register/index.js":"23","/home/ejziel/DistriSec/frontend/src/services/api.js":"24","/home/ejziel/Documentos/DistriSec/frontend/src/index.js":"25","/home/ejziel/Documentos/DistriSec/frontend/src/App.js":"26","/home/ejziel/Documentos/DistriSec/frontend/src/routes.js":"27","/home/ejziel/Documentos/DistriSec/frontend/src/pages/Logon/index.js":"28","/home/ejziel/Documentos/DistriSec/frontend/src/pages/Profile/index.js":"29","/home/ejziel/Documentos/DistriSec/frontend/src/pages/Register/index.js":"30","/home/ejziel/Documentos/DistriSec/frontend/src/pages/NewIncident/index.js":"31","/home/ejziel/Documentos/DistriSec/frontend/src/services/api.js":"32"},{"size":152,"mtime":1606918985894,"results":"33","hashOfConfig":"34"},{"size":199,"mtime":1606916782913,"results":"35","hashOfConfig":"36"},{"size":668,"mtime":1606919404535,"results":"37","hashOfConfig":"34"},{"size":1613,"mtime":1606931825762,"results":"38","hashOfConfig":"34"},{"size":2830,"mtime":1606931798386,"results":"39","hashOfConfig":"34"},{"size":2205,"mtime":1606931852306,"results":"40","hashOfConfig":"34"},{"size":2527,"mtime":1606931877522,"results":"41","hashOfConfig":"34"},{"size":116,"mtime":1606931520173,"results":"42","hashOfConfig":"34"},{"size":199,"mtime":1606916782000,"results":"43","hashOfConfig":"44"},{"size":668,"mtime":1606933996161,"results":"45","hashOfConfig":"44"},{"size":116,"mtime":1606931520000,"results":"46","hashOfConfig":"44"},{"size":2104,"mtime":1606933255932,"results":"47","hashOfConfig":"44"},{"size":2725,"mtime":1606933278556,"results":"48","hashOfConfig":"44"},{"size":1422,"mtime":1606933365052,"results":"49","hashOfConfig":"44"},{"size":2425,"mtime":1606934042713,"results":"50","hashOfConfig":"44"},{"size":152,"mtime":1606918985000,"results":"51","hashOfConfig":"44"},{"size":199,"mtime":1606916782000,"results":"52","hashOfConfig":"53"},{"size":152,"mtime":1606918985000,"results":"54","hashOfConfig":"53"},{"size":668,"mtime":1606933996000,"results":"55","hashOfConfig":"53"},{"size":4826,"mtime":1607888574026,"results":"56","hashOfConfig":"53"},{"size":2543,"mtime":1607888974343,"results":"57","hashOfConfig":"53"},{"size":1430,"mtime":1607802113000,"results":"58","hashOfConfig":"53"},{"size":2590,"mtime":1607800234000,"results":"59","hashOfConfig":"53"},{"size":116,"mtime":1606931520000,"results":"60","hashOfConfig":"53"},{"size":199,"mtime":1606916782000,"results":"61","hashOfConfig":"62"},{"size":152,"mtime":1606918985000,"results":"63","hashOfConfig":"62"},{"size":668,"mtime":1606933996000,"results":"64","hashOfConfig":"62"},{"size":1430,"mtime":1607802113000,"results":"65","hashOfConfig":"62"},{"size":2596,"mtime":1607897463997,"results":"66","hashOfConfig":"62"},{"size":2590,"mtime":1607800234000,"results":"67","hashOfConfig":"62"},{"size":4826,"mtime":1607888574000,"results":"68","hashOfConfig":"62"},{"size":116,"mtime":1606931520000,"results":"69","hashOfConfig":"62"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1l3yog6",{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1kv6rbx",{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"8gt8zi",{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},"bmd90g",{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"104"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"120"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"123"},"17cd93t",{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"123"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"123"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"123"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"123"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"123"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"123"},"/home/ejziel/Documentos/Omni 11/frontend/src/App.js",[],"/home/ejziel/Documentos/Omni 11/frontend/src/index.js",[],"/home/ejziel/Documentos/Omni 11/frontend/src/routes.js",[],"/home/ejziel/Documentos/Omni 11/frontend/src/pages/Logon/index.js",[],"/home/ejziel/Documentos/Omni 11/frontend/src/pages/Register/index.js",[],"/home/ejziel/Documentos/Omni 11/frontend/src/pages/NewIncident/index.js",[],"/home/ejziel/Documentos/Omni 11/frontend/src/pages/Profile/index.js",[],"/home/ejziel/Documentos/Omni 11/frontend/src/services/api.js",[],"/home/ejziel/Disciplinas/Distribuidos/DistriSec2/frontend/src/index.js",[],"/home/ejziel/Disciplinas/Distribuidos/DistriSec2/frontend/src/routes.js",[],"/home/ejziel/Disciplinas/Distribuidos/DistriSec2/frontend/src/services/api.js",[],"/home/ejziel/Disciplinas/Distribuidos/DistriSec2/frontend/src/pages/NewIncident/index.js",[],"/home/ejziel/Disciplinas/Distribuidos/DistriSec2/frontend/src/pages/Register/index.js",[],"/home/ejziel/Disciplinas/Distribuidos/DistriSec2/frontend/src/pages/Logon/index.js",[],"/home/ejziel/Disciplinas/Distribuidos/DistriSec2/frontend/src/pages/Profile/index.js",[],"/home/ejziel/Disciplinas/Distribuidos/DistriSec2/frontend/src/App.js",[],"/home/ejziel/DistriSec/frontend/src/index.js",[],["138","139"],"/home/ejziel/DistriSec/frontend/src/App.js",[],"/home/ejziel/DistriSec/frontend/src/routes.js",[],"/home/ejziel/DistriSec/frontend/src/pages/NewIncident/index.js",["140","141","142","143","144","145"],"import React, { useState, useEffect, useMemo} from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport Webcam from \"react-webcam\";\n\nimport { FiArrowLeft } from 'react-icons/fi';\n\nimport api from '../../services/api';\nimport './styles.css';\n\n\nexport default function NewIncident() {\n    const [image, setImage] = useState('');\n    const [nbDetections, setNbDetections] = useState(0);\n    const history = useHistory();\n    const userId = localStorage.getItem('userId');\n\n    async function handleSubmit() {\n        // e.preventDefault();\n        const data = {\n            image,\n        }\n        try {\n            const response = await api.post('incidents', data, {\n                headers: {\n                    Authorization: userId,\n                }\n            })\n            // history.push('/profile');\n            console.log(response);\n            if(response.data.detected){\n                setNbDetections(nbDetections + 1);\n            }\n            \n        } catch {\n            alert('Erro ao cadastrar caso, tente novamente');\n        }\n    }\n    \n    const webcamRef = React.useRef(null);\n    const [imgSrc, setImgSrc] = useState(null);\n    const [captureOn, setCaptureOn] = useState(false);\n    const [FPS, setFPS] = useState(1);\n    \n\n    const handleStartCaptureClick = React.useCallback(() => {\n        setCaptureOn(true);\n        // console.log(captureOn)\n    }, [setCaptureOn]);\n\n    const handleStopCaptureClick = React.useCallback(() => {\n        setCaptureOn(false);\n        // console.log(captureOn)\n    }, [setCaptureOn]);\n\n    function handleIncreaseFPSClick() {\n        if(!captureOn){\n            switch(FPS){\n                case 0.1:\n                    setFPS(0.5);\n                    break;\n                case 0.5:\n                    setFPS(1);\n                    break;\n                case 1:\n                    setFPS(5);\n                    break;\n                case 5:\n                    setFPS(5);\n                    break;\n            }\n        }\n    }\n\n    function handleDecreaseFPSClick() {\n        if(!captureOn){\n            switch(FPS){\n                case 0.1:\n                    setFPS(0.1);\n                    break;\n                case 0.5:\n                    setFPS(0.1);\n                    break;\n                case 1:\n                    setFPS(0.5);\n                    break;\n                case 5:\n                    setFPS(1);\n                    break;\n\n            }\n        }\n    }\n\n\n\n    useEffect(() => {\n        console.log(captureOn)\n        \n        const interval = setInterval(() => {\n            if(captureOn){\n                const imageSrc = webcamRef.current.getScreenshot();\n                const image64 = imageSrc.toString('base64');\n                setImage(image64);\n                setImgSrc(imageSrc);\n            }\n        }, 1000/FPS);\n        return () => clearInterval(interval);   \n        \n    }, [captureOn, FPS]);\n\n    useEffect(() => {\n        if(image){\n            handleSubmit()\n        } \n    }, [image]);\n\n    console.log(nbDetections);\n\n    return(\n        <div className=\"new-incident-container\">\n        <div className=\"content\">\n            <section>\n                <h1>Iniciar novo monitoramento</h1>\n                <p>Defina o número de frames por segundo:</p>\n\n                <div className=\"fps-content\"> \n                    <button className=\"button3\" onClick={handleIncreaseFPSClick}>Aumentar FPS</button>\n                    <div className=\"fps-number\">\n                        {FPS}\n                    </div>\n                    <button className=\"button3\" onClick={handleDecreaseFPSClick}>Diminuir FPS</button>\n                </div>\n\n                <Link className=\"back-link\" to=\"/profile\">\n                    <FiArrowLeft size={16} color=\"#E02041\"/>\n                    Voltar para home\n                </Link>\n            </section>\n            <div>\n                {/* <> */}\n                <Webcam\n                    audio={false}\n                    ref={webcamRef}\n                    screenshotFormat=\"image/jpeg\"\n                />\n                {captureOn ? (\n                    <button className=\"button2\" onClick={handleStopCaptureClick}>Parar Captura</button>\n                ) : (\n                    <button className=\"button\" onClick={handleStartCaptureClick}>Iniciar Captura</button>\n                )}\n\n                <div className=\"face-count\">\n                <p>{nbDetections} faces detectadas</p>\n                </div>\n\n                \n                {/* {imgSrc && (\n                    <img\n                    src={imgSrc}\n                    />\n                )} */}\n                \n                {/* </> */}\n                {/* {console.log(captureOn)} */}\n            </div>\n\n            \n\n        </div>\n    </div>\n    );\n    \n}","/home/ejziel/DistriSec/frontend/src/pages/Profile/index.js",[],"/home/ejziel/DistriSec/frontend/src/pages/Logon/index.js",[],"/home/ejziel/DistriSec/frontend/src/pages/Register/index.js",[],"/home/ejziel/DistriSec/frontend/src/services/api.js",[],["146","147"],"/home/ejziel/Documentos/DistriSec/frontend/src/index.js",[],["148","149"],"/home/ejziel/Documentos/DistriSec/frontend/src/App.js",[],"/home/ejziel/Documentos/DistriSec/frontend/src/routes.js",[],"/home/ejziel/Documentos/DistriSec/frontend/src/pages/Logon/index.js",[],"/home/ejziel/Documentos/DistriSec/frontend/src/pages/Profile/index.js",[],"/home/ejziel/Documentos/DistriSec/frontend/src/pages/Register/index.js",[],"/home/ejziel/Documentos/DistriSec/frontend/src/pages/NewIncident/index.js",["150","151","152","153","154","155"],"/home/ejziel/Documentos/DistriSec/frontend/src/services/api.js",[],{"ruleId":"156","replacedBy":"157"},{"ruleId":"158","replacedBy":"159"},{"ruleId":"160","severity":1,"message":"161","line":1,"column":38,"nodeType":"162","messageId":"163","endLine":1,"endColumn":45},{"ruleId":"160","severity":1,"message":"164","line":14,"column":11,"nodeType":"162","messageId":"163","endLine":14,"endColumn":18},{"ruleId":"160","severity":1,"message":"165","line":40,"column":12,"nodeType":"162","messageId":"163","endLine":40,"endColumn":18},{"ruleId":"166","severity":1,"message":"167","line":57,"column":13,"nodeType":"168","messageId":"169","endLine":70,"endColumn":14},{"ruleId":"166","severity":1,"message":"167","line":76,"column":13,"nodeType":"168","messageId":"169","endLine":90,"endColumn":14},{"ruleId":"170","severity":1,"message":"171","line":115,"column":8,"nodeType":"172","endLine":115,"endColumn":15,"suggestions":"173"},{"ruleId":"156","replacedBy":"174"},{"ruleId":"158","replacedBy":"175"},{"ruleId":"156","replacedBy":"176"},{"ruleId":"158","replacedBy":"177"},{"ruleId":"160","severity":1,"message":"161","line":1,"column":38,"nodeType":"162","messageId":"163","endLine":1,"endColumn":45},{"ruleId":"160","severity":1,"message":"164","line":14,"column":11,"nodeType":"162","messageId":"163","endLine":14,"endColumn":18},{"ruleId":"160","severity":1,"message":"165","line":40,"column":12,"nodeType":"162","messageId":"163","endLine":40,"endColumn":18},{"ruleId":"166","severity":1,"message":"167","line":57,"column":13,"nodeType":"168","messageId":"169","endLine":70,"endColumn":14},{"ruleId":"166","severity":1,"message":"167","line":76,"column":13,"nodeType":"168","messageId":"169","endLine":90,"endColumn":14},{"ruleId":"170","severity":1,"message":"171","line":115,"column":8,"nodeType":"172","endLine":115,"endColumn":15,"suggestions":"178"},"no-native-reassign",["179"],"no-negated-in-lhs",["180"],"no-unused-vars","'useMemo' is defined but never used.","Identifier","unusedVar","'history' is assigned a value but never used.","'imgSrc' is assigned a value but never used.","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'handleSubmit'. Either include it or remove the dependency array.","ArrayExpression",["181"],["179"],["180"],["179"],["180"],["182"],"no-global-assign","no-unsafe-negation",{"desc":"183","fix":"184"},{"desc":"183","fix":"185"},"Update the dependencies array to be: [handleSubmit, image]",{"range":"186","text":"187"},{"range":"188","text":"187"},[3027,3034],"[handleSubmit, image]",[3027,3034]]